@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply antialiased;
  }
}

@layer components {
  .btn-primary {
    @apply px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 
           transition-colors duration-200;
  }

  .btn-secondary {
    @apply px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 
           focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 
           transition-colors duration-200;
  }

  .control-label {
    @apply text-sm font-medium text-gray-700 mb-1 block;
  }

  .control-input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md 
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
  }
}

/* D3 Sankey specific styles */
.sankey-link {
  fill: none;
  stroke-opacity: 0.3;
  transition: stroke-opacity 0.2s;
}

.sankey-link:hover {
  stroke-opacity: 0.6;
}

.sankey-node {
  cursor: pointer;
  transition: opacity 0.2s;
}

.sankey-node:hover {
  opacity: 0.8;
}

.sankey-label {
  pointer-events: none;
  user-select: none;
}

/* Tooltip styles */
.tooltip {
  @apply absolute z-50 bg-gray-900 text-white px-3 py-2 rounded-lg text-sm
         shadow-lg pointer-events-none opacity-0 transition-opacity duration-200;
}

.tooltip.visible {
  @apply opacity-100;
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .sankey-link {
    stroke-opacity: 0.8;
  }
  
  .sankey-node {
    stroke: black;
    stroke-width: 2;
  }
}